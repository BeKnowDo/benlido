var bl_api_url="/bl-api",bl_new_kit_url=bl_api_url+"/kit/create",bl_has_multi=bl_api_url+"/kit/has-multi";
function bl_add_item_to_kit(t){var a=jQuery(t).data("has_variations"),e=jQuery(t).data("variation_id");e=parseInt(e);var o=jQuery(t).data("product_id"),i=jQuery(t).data("category_id"),r=jQuery(t).data("index");if(1==a&&0<e){var n={index:r,product_id:o,category_id:i,variation_id:e,quantity:1};jQuery.post("/?wc-ajax=add_to_cart",n,function(t){jQuery(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,null])})}}function bl_add_product_to_kit(t){var a=jQuery(t).data("index");a||(a=0),jQuery(t).closest(".wrap-price").find("a.add_to_cart_button").first().data("index",a),jQuery(t).closest(".wrap-price").find("a.add_to_cart_button").first().click()}function bl_create_new_kit(){var t="";bl_new_kit_url&&(t=bl_new_kit_url),jQuery.post(t,{kit:"new"},function(t){jQuery(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,null])},"json")}function bl_rename_kit_start(t,a){t.stopPropagation(),t.preventDefault();var e=jQuery(a).closest("h3");e&&jQuery(e).addClass("edit")}function bl_rename_kit(t,a){t.stopPropagation(),t.preventDefault();var e,o="",i=jQuery(a).data("index");console.log("this"),console.log(a);var r=jQuery(a).closest(".edit-title").find('input[type="text"]').first().val();console.log("title"),console.log(r),e={index:i,kit_name:r},bl_api_url&&(o=bl_api_url+"/kit/rename"),0<o.length&&jQuery.post(o,e,function(t){void 0!==t.fragments&&jQuery(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,null])})}function bl_rename_cancel(t,a){t.stopPropagation(),t.preventDefault();var e=jQuery(a).closest("h3");e&&jQuery(e).removeClass("edit")}function bl_start_add_bag(t,a){t.stopPropagation(),t.preventDefault();var e=jQuery(a).data("index"),o="";e||(e=0);var i={index:e};bl_api_url&&(o=bl_api_url+"/kit/start-add-bag"),0<o.length&&jQuery.post(o,i,function(t){void 0!==t.redirect_url&&(document.location.href=t.redirect_url)},"json")}function bl_update_choices_containers(){console.log("update choices containers"),bl_has_multi&&(url=bl_has_multi),jQuery("body.post-type-archive-product .choices-container, body.tax-product_cat .choices-container").hasClass("choices-container")&&jQuery.post(url,{},function(t){jQuery("body.post-type-archive-product .choices-container, body.tax-product_cat .choices-container").each(function(){jQuery(this).html(t)})},"html")}jQuery(document).ready(function(o){o(".create-kit").height(o(".last_kit").height()),o(".js-variation-select").on("click",function(){var e=o(this).data("variation_id");if(e){o("#bag-"+o(this).data("product_id")).data("variation_id",e);var t=o(this).closest(".product-grid-single");o(".choices-container a",t).each(function(t,a){console.log(a),o(a).data("variation_id",e)}),o("#product-id-"+o(this).data("product_id")+" div").removeClass("selected"),o(this).addClass("selected")}}),o(".needs-variation").on("click",function(t){t.preventDefault();var a=this;o(a).data("variation_id")||(t.stopPropagation(),alert("Please select a color"),setTimeout(function(){jQuery(a).removeClass("loading")},100))}),o("body.single-product .single_add_to_cart_button").on("click",function(t){t.preventDefault()}),o(".bl-add-kit-to-cart").on("click",function(t){t.preventDefault();var a=o(this).attr("href"),e=this;o(this).addClass("loading"),a&&o.post(a,{},function(t){jQuery(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,null]),o(e).removeClass("loading")},"json")})}),jQuery(document).ready(function(){bl_update_choices_containers()});